---
/**
 * StylePanel.astro - Style customization for QR Code
 *
 * Includes:
 * - Body Shape selector
 * - Eye Frame Shape selector
 * - Eye Ball Shape selector
 */
---

<!-- Body Shape -->
<div class="shape-section">
  <label class="section-label">Body Shape</label>
  <div class="shape-grid-compact">
    <button
      class="shape-btn active"
      data-bodyshape="square"
      onclick="setBodyShape('square')"
      title="Square"
    >
      <svg viewBox="0 0 20 20"
        ><rect x="2" y="2" width="16" height="16" fill="currentColor"
        ></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-bodyshape="rounded"
      onclick="setBodyShape('rounded')"
      title="Rounded"
    >
      <svg viewBox="0 0 20 20"
        ><rect x="2" y="2" width="16" height="16" rx="4" fill="currentColor"
        ></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-bodyshape="dots"
      onclick="setBodyShape('dots')"
      title="Dots"
    >
      <svg viewBox="0 0 20 20"
        ><circle cx="10" cy="10" r="7" fill="currentColor"></circle></svg
      >
    </button>
    <button
      class="shape-btn"
      data-bodyshape="diamond"
      onclick="setBodyShape('diamond')"
      title="Diamond"
    >
      <svg viewBox="0 0 20 20"
        ><polygon points="10,2 18,10 10,18 2,10" fill="currentColor"
        ></polygon></svg
      >
    </button>
  </div>
</div>

<!-- Eye Frame Shape -->
<div class="shape-section">
  <label class="section-label">Eye Frame</label>
  <div class="shape-grid-compact">
    <button
      class="shape-btn active"
      data-eyeframe="square"
      onclick="setEyeFrame('square')"
      title="Square"
    >
      <svg viewBox="0 0 20 20"
        ><rect
          x="2"
          y="2"
          width="16"
          height="16"
          fill="none"
          stroke="currentColor"
          stroke-width="3"></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-eyeframe="rounded"
      onclick="setEyeFrame('rounded')"
      title="Rounded"
    >
      <svg viewBox="0 0 20 20"
        ><rect
          x="2"
          y="2"
          width="16"
          height="16"
          rx="4"
          fill="none"
          stroke="currentColor"
          stroke-width="3"></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-eyeframe="circle"
      onclick="setEyeFrame('circle')"
      title="Circle"
    >
      <svg viewBox="0 0 20 20"
        ><circle
          cx="10"
          cy="10"
          r="7"
          fill="none"
          stroke="currentColor"
          stroke-width="3"></circle></svg
      >
    </button>
    <button
      class="shape-btn"
      data-eyeframe="leaf"
      onclick="setEyeFrame('leaf')"
      title="Leaf"
    >
      <svg viewBox="0 0 20 20"
        ><path
          d="M10,2 Q18,2 18,10 Q18,18 10,18 Q2,18 2,10 Q2,2 10,2"
          fill="none"
          stroke="currentColor"
          stroke-width="2"></path></svg
      >
    </button>
  </div>
</div>

<!-- Eye Ball Shape -->
<div class="shape-section">
  <label class="section-label">Eye Ball</label>
  <div class="shape-grid-compact">
    <button
      class="shape-btn active"
      data-eyeball="square"
      onclick="setEyeBall('square')"
      title="Square"
    >
      <svg viewBox="0 0 20 20"
        ><rect x="5" y="5" width="10" height="10" fill="currentColor"
        ></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-eyeball="rounded"
      onclick="setEyeBall('rounded')"
      title="Rounded"
    >
      <svg viewBox="0 0 20 20"
        ><rect x="5" y="5" width="10" height="10" rx="3" fill="currentColor"
        ></rect></svg
      >
    </button>
    <button
      class="shape-btn"
      data-eyeball="circle"
      onclick="setEyeBall('circle')"
      title="Circle"
    >
      <svg viewBox="0 0 20 20"
        ><circle cx="10" cy="10" r="4" fill="currentColor"></circle></svg
      >
    </button>
  </div>
</div>

<style>
  /* Style Panel Styles */
  .shape-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .section-label {
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    color: var(--text-main, rgba(255, 255, 255, 0.6));
    letter-spacing: 0.5px;
  }

  @media (prefers-color-scheme: dark) {
    .section-label {
      color: rgba(255, 255, 255, 0.6);
    }
  }

  .shape-grid-compact {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
  }

  .shape-btn {
    aspect-ratio: 1;
    background: rgba(127, 127, 127, 0.1);
    border: 1px solid rgba(127, 127, 127, 0.2);
    border-radius: 8px;
    color: var(--text-main, rgba(255, 255, 255, 0.7));
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Handle icon colors for dark/light since parent is glass */
  @media (prefers-color-scheme: dark) {
    .shape-btn {
      color: rgba(255, 255, 255, 0.7);
    }
  }

  .shape-btn svg {
    width: 20px;
    height: 20px;
  }

  .shape-btn:hover {
    background: rgba(127, 127, 127, 0.2);
    color: var(--text-main, white);
  }

  .shape-btn.active {
    background: var(--accent-primary, #1a73e8);
    color: white;
    border-color: transparent;
  }
</style>
