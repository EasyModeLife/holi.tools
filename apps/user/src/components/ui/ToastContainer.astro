---

---

<div
  id="toast-container"
  class="fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none"
>
  <!-- Toasts injected here -->
</div>

<script>
  import type { ToastPayload } from "../../lib/ui/toast";

  const container = document.getElementById("toast-container");

  window.addEventListener("holi-toast", ((e: CustomEvent<ToastPayload>) => {
    if (!container) return;
    const { id, type, message, duration } = e.detail;

    const toast = document.createElement("div");
    toast.className = `
            pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl border backdrop-blur-md transform transition-all duration-300 translate-y-10 opacity-0
            ${type === "success" ? "bg-green-500/10 border-green-500/20 text-green-300" : ""}
            ${type === "error" ? "bg-red-500/10 border-red-500/20 text-red-300" : ""}
            ${type === "info" ? "bg-blue-500/10 border-blue-500/20 text-blue-300" : ""}
        `;

    // Icon
    const icon = document.createElement("div");
    if (type === "success")
      icon.innerHTML =
        '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
    else if (type === "error")
      icon.innerHTML =
        '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';
    else
      icon.innerHTML =
        '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';

    const text = document.createElement("p");
    text.className = "text-sm font-medium";
    text.textContent = message;

    toast.appendChild(icon);
    toast.appendChild(text);
    container.appendChild(toast);

    // Animate In
    requestAnimationFrame(() => {
      toast.classList.remove("translate-y-10", "opacity-0");
    });

    // Remove after duration
    setTimeout(() => {
      toast.classList.add("translate-y-4", "opacity-0");
      setTimeout(() => toast.remove(), 300);
    }, duration);
  }) as EventListener);
</script>
