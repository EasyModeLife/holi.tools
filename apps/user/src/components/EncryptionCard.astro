---
interface Props {
  description?: string;
}

const {
  description =
    "Optional shared session password to enable encrypted envelopes (temporary; PAKE comes later).",
} = Astro.props;
---

<div class="glass-card p-6 rounded-xl space-y-4">
  <div class="flex items-center gap-3">
    <div class="p-2 bg-emerald-500/20 rounded-lg text-emerald-400">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path
          d="M7 11V7a5 5 0 0 1 10 0v4"
        ></path></svg
      >
    </div>
    <h2 class="text-lg font-semibold text-white">Encryption</h2>
    <span
      id="encryption-badge"
      class="ml-auto hidden px-2 py-1 rounded-full text-xs font-medium"
    ></span>
  </div>

  <p class="text-sm text-zinc-400">{description}</p>

  <div class="space-y-2">
    <label for="session-passphrase" class="block text-sm text-zinc-400">
      Session Password (optional)
    </label>
    <input
      id="session-passphrase"
      type="password"
      class="w-full px-4 py-2 bg-black/30 rounded-lg border border-white/10 text-white focus:border-emerald-500 focus:outline-none"
      placeholder="Leave blank for plaintext"
      autocomplete="off"
    />

    <label class="flex items-center gap-2 text-sm text-zinc-400 select-none">
      <input
        id="remember-passphrase"
        type="checkbox"
        class="accent-emerald-500"
      />
      Remember on this device
      <span class="text-xs text-zinc-500">(stores locally)</span>
    </label>

    <p id="remember-hint" class="text-xs text-zinc-500"></p>

    <div class="flex flex-wrap gap-2 justify-end">
      <button
        type="button"
        id="toggle-passphrase-btn"
        class="px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-sm"
      >
        Show
      </button>
      <button
        type="button"
        id="clear-passphrase-btn"
        class="px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-sm"
      >
        Clear
      </button>
      <button
        type="button"
        id="forget-passphrase-btn"
        class="px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-sm"
      >
        Forget
      </button>
    </div>
    <p id="encryption-hint" class="text-xs text-zinc-500"></p>
  </div>
</div>
